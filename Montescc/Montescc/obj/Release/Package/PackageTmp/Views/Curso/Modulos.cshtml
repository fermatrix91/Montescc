@model List<Montescc.Models.DAL.Modulo>

@{
    ViewBag.Title = "Modulos";
    if (Model.Select(y => y.IdCurso).FirstOrDefault() == 1)
    {
        Layout = "~/Views/Shared/_LayoutAjedrez.cshtml";

        ViewBag.TituloContenido = "Lecciones GRATIS de Ajedrez";
        ViewBag.DescripcionContenido = "Lecciones de ajedrez gratis - Miles de ejercicios para desarrollar habilidades ajedrecíscticas - Enlaces a los mejores sitios para desafiar a miles de jugadores de ajedrez en todo el mundo - Aperturas, finales y jugadas de leyendas de todos los tiempos.";
        ViewBag.UrlImagenPrincipal = Model.Select(y => y.UrlImagen).FirstOrDefault();
    }
    if (Model.Select(y => y.IdCurso).FirstOrDefault() == 2)
    {
        Layout = "~/Views/Shared/_LayoutProgramacionWeb.cshtml";

        ViewBag.TituloContenido = "Lecciones GRATIS de Programación Web";
        ViewBag.DescripcionContenido = "Aprende a crear aplicaciones web utilizando Html, JQuery, Asp.net MVC. Múltiples ejemplos para que puedas crear tus propios sitios web, completamente GRATIS.";
        ViewBag.UrlImagenPrincipal = Model.Select(y => y.UrlImagen).FirstOrDefault();
    }
    if (Model.Select(y => y.IdCurso).FirstOrDefault() == 3)
    {
        Layout = "~/Views/Shared/_LayoutContabilidad.cshtml";

        ViewBag.TituloContenido = "Lecciones GRATIS de Contabilidad";
        ViewBag.DescripcionContenido = "Lecciones de contabilidad gratis - Teoría y práctica - Miles de ejercicios básicos - Principales reportes contables; Balance General, Estado de Resultados, Conciliación Bancaria - Normas internacionales de contabilidad.";
        ViewBag.UrlImagenPrincipal = Model.Select(y => y.UrlImagen).FirstOrDefault();
    }
    if (Model.Select(y => y.IdCurso).FirstOrDefault() == 4)
    {
        Layout = "~/Views/Shared/_LayoutIngles.cshtml";
    }
    if (ViewBag.IdDeCurso == 5)
    {
        Layout = "~/Views/Shared/_LayoutNoticia.cshtml";

        ViewBag.TituloContenido = "Noticias internacionales";
        ViewBag.DescripcionContenido = "Noticias internacionales - Acontecimientos mundiales destacados";
        //ViewBag.UrlImagenPrincipal = Model.Select(y => y.UrlImagen).FirstOrDefault();
    }
}

<div>
    <p style="display: none;" id="cursoActual">@ViewBag.IdDeCurso</p>
    <section style="text-align: center; margin-top: 48px;">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            @if (Model.Select(y => y.IdCurso).FirstOrDefault() == 1)
            {
                <h1 style="text-align: center;">LECCIONES DE AJEDREZ</h1>
                <h2 style="text-align: left;"><b>El maravilloso juego-ciencia.</b></h2>

                <p style="text-align: left;">
                    Tan fascinante es el ajedrez que en cada juego se presentan miles de alternativas para desarrollar la partida, y usted no necesita ser profesional para disfrutarlo. Gracias a las bondades de nuestra época, encontramos en internet partidas animadas de grandes genios del ajedrez (Capablanca, Kasparov, Carlsen, etc.), y podemos disfrutar en vivo (gratis – vía internet) torneos de la élite y campeonatos mundiales.
                </p>
                <p style="text-align: left;">
                    Miles de ejercicios para desarrollar habilidades ajedrecísticas. Aperturas, finales, jugadas de legendarios ajedrecistas. Enlaces a los mejores sitios para desafiar a miles de jugadores de ajedrez en todo el mundo. Lecciones de ajedrez gratis.
                </p>
            }
            @if (Model.Select(y => y.IdCurso).FirstOrDefault() == 2)
            {
                <h1 style="text-align: center;">Desarrollo de Aplicaciones ASP.NET-MVC</h1>

                <p style="text-align: left;">
                    Aprende a crear aplicaciones Web utilizando el marco de trabajo Asp.net MVC.
                </p>
                <p style="text-align: left;">
                    Conozca tecnologías que se ejecutan del lado del cliente (FrontEnd), las cuales son necesarias para crear sitios (y aplicaciones) web: HTML, CSS, JQUERY, entre otras.
                    <br />Para administrar el BackEnd (código del lado del servidor) de nuestras aplicaciones Web utilizaremos el lenguaje de programación C#. Código que nos ayuda a realizar las operaciones invisibles al usuario como comunicarnos a la base de datos, las cuales irán acompañadas de la tecnología Entity Framework.
                    <br /><br />El único programa que necesita es <a href="https://www.visualstudio.com/downloads/">Visual Studio Community</a> (en su versión 2015 ó 2017), el cual es proporcionado por Microsoft de manera gratuita.
                </p>
            }
            @if (Model.Select(y => y.IdCurso).FirstOrDefault() == 3)
            {
                <h1 style="text-align: center;">LECCIONES DE CONTABILIDAD</h1>
                <h2 style="text-align: left;"><b>Llevar bien las cuentas es un arte.</b></h2>

                <p style="text-align: left;">
                    La contabilidad establece controles y procedimientos adecuados, registra operaciones de tal manera que los reportes hablen por sí mismos, presenta la rentabilidad (utilidad o pérdida) de la institución y es una exigencia del gobierno en cada país. Contabilidad es el nervio y centro de la empresa; la única manera de llevarla es haciéndolo bien.
                </p>
                <p style="text-align: left;">
                    Para llevar bien las cuentas es indispensable respetar las normas establecidas por esta ciencia, considerándolas en cada operación a realizar.
                </p>
                <p style="text-align: left;">
                    Principales reportes contables; Balance General, Estado de Resultados, Conciliación Bancaria. Normas internacionales de contabilidad. Miles de ejercicios contables básicos. Lecciones de contabilidad gratis.
                </p>
            }
            @if (ViewBag.IdDeCurso == 5)
            {
                <h1 style="text-align: center;">NOTICIAS INTERNACIONALES</h1>
                <h2 style="text-align: center;"><b>Acontecimientos mundiales destacados</b></h2>
            }

        </div>
        <article style="height: auto !important;">
            @if (ViewBag.IdDeCurso != 5)
            {
                <div style="margin-bottom: 3% !important;" class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                    @foreach (Montescc.Models.DAL.Modulo modulo in Model.OrderBy(x => x.Posicion))
                    {
                        if (modulo.Posicion != 0)
                        {
                            <a style="text-decoration:none; color: black;" href="/Curso/SeccionesCurso?idModulo=@modulo.IdModulo&posicion=actual&idCurso=@ViewBag.IdDeCurso">
                                <div class="cuadrosPrincipalesHome col-xs-12 col-sm-6 col-md-4 col-lg-4" style="height: 130px !important;">
                                    <img src="@modulo.UrlImagen" style="min-height: 80px; height: auto; width: 40%; margin-top: 3%; max-width: 90px;" />
                                    <p>@modulo.Nombre</p>
                                </div>
                            </a>
                        }
                    }
                </div>
            }
            else
            {
                <div style="margin-bottom: 3% !important; height: auto !important;" class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                    @foreach (Montescc.Models.DAL.Modulo modulo in Model.OrderByDescending(x => x.Posicion))
                    {
                        if (modulo.Posicion != 0)
                        {
                            <a style="text-decoration:none; color: black;" href="@modulo.NombreSitio">
                                <div class="cuadrosPrincipalesHome col-xs-12 col-sm-6 col-md-4 col-lg-4" style="height: auto !important;">
                                    <img src="@modulo.UrlImagen" style="min-height: 80px; height: auto; width: 100%; margin-top: 3%;" />
                                    <p>@modulo.Nombre</p>
                                </div>
                            </a>
                        }
                    }
                </div>


                <div id="contieneSiguientesNoticias" style="margin-bottom: 3% !important; height: auto !important;" class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                </div>

                if (Model.Count == 15)
                {
                    <button style="margin-bottom: 3%;" id="muestraSiguientesNoticias" style="text-align: center;" class="btn btn-info">Mostrar Anteriores</button>
                }
            }
        </article>
    </section>
</div>

<script>
    $('#muestraSiguientesNoticias').click(function () {
        $.ajax({
            url: "/Curso/SiguientesNoticias", success: function (result) {
                var noticias = result.SiguientesNoticias;
                var noticiasResultantes = [];

                for (var i = 0; i < noticias.length; i++) {
                    noticiasResultantes.push('<a style="text-decoration:none; color: black;" href="' + noticias[i].NombreSitio + '"><div class="cuadrosPrincipalesHome col-xs-12 col-sm-6 col-md-4 col-lg-4" style="height: auto !important;"><img src="' + noticias[i].UrlImagen + '" style="min-height: 80px; height: auto; width: 100%; margin-top: 3%;" /><p>' + noticias[i].Nombre + '</p></div></a>');
                }
                //$each(noticias, function (index, value) {
                //    noticiasResultantes.push('<a style="text-decoration:none; color: black;" href="' + value.NombreSitio + '"><div class="cuadrosPrincipalesHome col-xs-12 col-sm-6 col-md-4 col-lg-4" style="height: auto !important;"><img src="' + value.UrlImagen + '" style="min-height: 80px; height: auto; width: 100%; margin-top: 3%;" /><p>' + value.Nombre + '</p></div></a>');
                //});

                $("#contieneSiguientesNoticias").html(noticiasResultantes);
            }
        });


    });
</script>
